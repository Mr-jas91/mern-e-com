import{d as C,u as m,a as c,e as f,j as s,O as b,B as r,Q as y,T as t,f as v,S as w,G as d,U as P}from"./index-Bg7Lztdd.js";import{C as A}from"./CardMedia-DyDp5sqH.js";import{C as S}from"./Container-DVBPvZB6.js";const T=({product:e})=>{var h,x;const a=C(),i=m(),{user:g}=c(o=>o.auth),[n,l]=f.useState(!1),j=o=>{o.stopPropagation(),g?(i(w(e._id)),l(!0),setTimeout(()=>l(!1),1500)):a("/user/signin")};return s.jsxs(b,{sx:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",padding:2,borderRadius:2,boxShadow:3,transition:"transform 0.2s ease-in-out","&:hover":{transform:"scale(1.02)"}},onClick:()=>a(`/product/${e._id}`),children:[s.jsx(r,{sx:{width:"100%",height:220,display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#f9f9f9",borderRadius:2,overflow:"hidden"},children:s.jsx(A,{component:"img",image:((h=e==null?void 0:e.images)==null?void 0:h[0])||"/placeholder.jpg",alt:(e==null?void 0:e.name)||"Product Image",sx:{maxWidth:"100%",maxHeight:"100%",objectFit:"cover",transition:"opacity 0.3s ease-in-out","&:hover":{opacity:.9}}})}),s.jsx(y,{sx:{textAlign:"center",paddingBottom:"8px"},children:s.jsx(t,{variant:"h6",sx:{fontWeight:600,fontSize:"1rem",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:(e==null?void 0:e.name)||"Product Name"})}),s.jsxs(r,{sx:{display:"flex",justifyContent:"center",gap:1,mb:1},children:[s.jsxs(t,{variant:"body2",color:"text.secondary",sx:{textDecoration:"line-through"},children:["₹",((x=e==null?void 0:e.price)==null?void 0:x.toFixed(2))||"0.00"]}),s.jsxs(t,{variant:"body2",color:"primary",fontWeight:600,children:["₹",((e==null?void 0:e.price)-((e==null?void 0:e.discount)||0)).toFixed(2)]})]}),s.jsx(v,{variant:"contained",sx:{width:"100%",bgcolor:n?"#4caf50":"black",color:"white",fontWeight:"bold","&:hover":{bgcolor:n?"#66bb6a":"#424242"},transition:"background 0.3s ease-in-out"},onClick:j,children:n?"Added!":"Add to Cart"})]})},k=({title:e,products:a})=>s.jsxs(r,{sx:{my:4},children:[s.jsx(t,{variant:"h5",gutterBottom:!0,children:e}),s.jsx(d,{container:!0,spacing:2,children:a==null?void 0:a.map(i=>s.jsx(d,{item:!0,xs:12,sm:6,md:3,children:s.jsx(T,{product:i})},i==null?void 0:i._id))})]});function D(){const e=m(),{products:a}=c(i=>i.products);return f.useEffect(()=>{a.length||e(P())},[]),s.jsx(S,{maxWidth:"lg",children:s.jsx(k,{title:"Tranding Products",products:a})})}export{D as default};
