import{u as b,d as P,a as C,e as R,j as e,P as W,T as p,B as S,G as a,f as g,z as l,a3 as q}from"./index-Bg7Lztdd.js";import{C as T}from"./Container-DVBPvZB6.js";import{T as i}from"./TextField-B6hv7PeN.js";import"./isHostComponent-CIBwoAig.js";import"./Modal-BbAonJu_.js";import"./List-DQDaG03M.js";const G=()=>{const f=b(),m=P(),{loading:d}=C(r=>r.auth),[u,c]=R.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),{firstName:j,lastName:w,email:v,password:h,confirmPassword:x}=u,t=r=>{const{name:n,value:o}=r.target;c(s=>({...s,[n]:o}))},y=async r=>{var n,o;if(r.preventDefault(),h!==x){l("error","Passwords do not match.");return}try{const s=await f(q(u));(n=s.payload)!=null&&n.success?(l("success","Successfully registered!"),c({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),m("/home")):l("error",((o=s.payload)==null?void 0:o.data)||"Registration failed.")}catch(s){l("error",(s==null?void 0:s.message)||"Something went wrong!")}},N=()=>{m("/user/login")};return e.jsx(T,{component:"main",maxWidth:"xs",children:e.jsxs(W,{elevation:3,sx:{mt:8,p:4},children:[e.jsx(p,{component:"h1",variant:"h5",align:"center",gutterBottom:!0,children:"Register"}),e.jsxs(S,{component:"form",onSubmit:y,sx:{mt:3},children:[e.jsxs(a,{container:!0,spacing:2,children:[e.jsx(a,{item:!0,xs:12,sm:6,children:e.jsx(i,{required:!0,fullWidth:!0,id:"firstName",name:"firstName",label:"First Name",value:j,onChange:t})}),e.jsx(a,{item:!0,xs:12,sm:6,children:e.jsx(i,{required:!0,fullWidth:!0,id:"lastName",name:"lastName",label:"Last Name",value:w,onChange:t})}),e.jsx(a,{item:!0,xs:12,children:e.jsx(i,{required:!0,fullWidth:!0,id:"email",name:"email",label:"Email Address",type:"email",value:v,onChange:t})}),e.jsx(a,{item:!0,xs:12,children:e.jsx(i,{required:!0,fullWidth:!0,id:"password",name:"password",label:"Password",type:"password",value:h,onChange:t})}),e.jsx(a,{item:!0,xs:12,children:e.jsx(i,{required:!0,fullWidth:!0,id:"confirmPassword",name:"confirmPassword",label:"Confirm Password",type:"password",value:x,onChange:t})})]}),e.jsx(g,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:d,children:d?"Registering...":"Register"})]}),e.jsxs(p,{variant:"body2",align:"center",sx:{mt:2},children:["Already have an account?"," ",e.jsx(g,{variant:"text",onClick:N,disabled:d,children:"Login"})]})]})})};export{G as default};
