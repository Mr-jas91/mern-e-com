import{u as f,d as j,a as y,e as b,j as e,P as v,T as w,B as C,G as n,f as c,at as D,z as r}from"./index-Bg7Lztdd.js";import{C as S}from"./Container-DVBPvZB6.js";import{T as m}from"./TextField-B6hv7PeN.js";import"./isHostComponent-CIBwoAig.js";import"./Modal-BbAonJu_.js";import"./List-DQDaG03M.js";const q=()=>{const u=f(),o=j(),{admin:T,loading:i}=y(t=>t.admin),[p,l]=b.useState({email:"",password:""}),d=t=>{const{name:s,value:a}=t.target;l(x=>({...x,[s]:a}))},h=async t=>{var s;t.preventDefault();try{const a=await u(D(p));a.payload.success?(r("success","Successfully logged in!"),l({email:"",password:""}),o("/admin/dashboard")):r("error",(s=a.payload)==null?void 0:s.data)}catch(a){r("error",a==null?void 0:a.message)}},g=()=>{o("/admin/register")};return e.jsx(S,{component:"main",maxWidth:"xs",children:e.jsxs(v,{elevation:3,sx:{mt:8,p:4},children:[e.jsx(w,{variant:"h4",align:"center",gutterBottom:!0,children:"Login"}),e.jsxs(C,{component:"form",onSubmit:h,sx:{mt:3},children:[e.jsxs(n,{container:!0,spacing:2,children:[e.jsx(n,{item:!0,xs:12,children:e.jsx(m,{required:!0,fullWidth:!0,label:"Email",name:"email",type:"email",onChange:d})}),e.jsx(n,{item:!0,xs:12,children:e.jsx(m,{required:!0,fullWidth:!0,label:"Password",name:"password",type:"password",onChange:d})})]}),e.jsx(c,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",sx:{mt:3,mb:2},disabled:i,children:i?"Logging in...":"Login"}),e.jsx(c,{fullWidth:!0,variant:"outlined",onClick:g,disabled:i,children:"Don't have an account? Register"})]})]})})};export{q as default};
