import{u as f,d as j,a as y,e as v,j as e,P as b,T as w,B as C,G as i,f as d,V as D,z as n}from"./index-Bg7Lztdd.js";import{C as S}from"./Container-DVBPvZB6.js";import{T as u}from"./TextField-B6hv7PeN.js";import"./isHostComponent-CIBwoAig.js";import"./Modal-BbAonJu_.js";import"./List-DQDaG03M.js";const E=()=>{const m=f(),o=j(),{loading:r}=y(a=>a.auth),[h,l]=v.useState({email:"",password:""}),c=a=>{const{name:s,value:t}=a.target;l(x=>({...x,[s]:t}))},p=async a=>{var s;a.preventDefault();try{const t=await m(D(h));t.payload.success?(n("success","Successfully logged in!"),l({email:"",password:""}),o("/home")):n("error",(s=t.payload)==null?void 0:s.data)}catch(t){n("error",t==null?void 0:t.message)}},g=()=>{o("/user/register")};return e.jsx(S,{component:"main",maxWidth:"xs",children:e.jsxs(b,{elevation:3,sx:{mt:8,p:4},children:[e.jsx(w,{variant:"h4",align:"center",gutterBottom:!0,children:"Login"}),e.jsxs(C,{component:"form",onSubmit:p,sx:{mt:3},children:[e.jsxs(i,{container:!0,spacing:2,children:[e.jsx(i,{item:!0,xs:12,children:e.jsx(u,{required:!0,fullWidth:!0,label:"Email",name:"email",type:"email",onChange:c})}),e.jsx(i,{item:!0,xs:12,children:e.jsx(u,{required:!0,fullWidth:!0,label:"Password",name:"password",type:"password",onChange:c})})]}),e.jsx(d,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",sx:{mt:3,mb:2},disabled:r,children:r?"Logging in...":"Login"}),e.jsx(d,{fullWidth:!0,variant:"outlined",onClick:g,disabled:r,children:"Don't have an account? Register"})]})]})})};export{E as default};
