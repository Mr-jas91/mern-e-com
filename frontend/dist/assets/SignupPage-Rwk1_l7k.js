import{d as f,u as x,a as w,e as j,j as a,P as v,T as y,B as P,G as o,f as u,z as i,au as b}from"./index-Bg7Lztdd.js";import{C}from"./Container-DVBPvZB6.js";import{T as n}from"./TextField-B6hv7PeN.js";import"./isHostComponent-CIBwoAig.js";import"./Modal-BbAonJu_.js";import"./List-DQDaG03M.js";const F=()=>{const d=f(),c=x(),{admin:N,loading:l,error:S}=w(r=>r.admin),[e,m]=j.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",role:"admin"}),t=r=>{m({...e,[r.target.name]:r.target.value})},p=async r=>{if(r.preventDefault(),e.password!==e.confirmPassword){i("error","Passwords do not match.");return}const{confirmPassword:A,...g}=e;try{const s=await c(b(g));if(s.error){i("error",s.payload||"Registration failed");return}i("success","Admin account created!"),m({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",role:"admin"}),d("/admin/dashboard")}catch(s){i("error",(s==null?void 0:s.message)||"Something went wrong!")}},h=()=>{d("/admin/login")};return a.jsx(C,{maxWidth:"sm",children:a.jsxs(v,{elevation:3,sx:{padding:4,mt:8},children:[a.jsx(y,{variant:"h5",align:"center",gutterBottom:!0,children:"Admin Signup"}),a.jsxs(P,{component:"form",onSubmit:p,sx:{display:"flex",flexDirection:"column",gap:2},children:[a.jsxs(o,{container:!0,spacing:2,children:[a.jsx(o,{item:!0,xs:12,sm:6,children:a.jsx(n,{label:"First Name",name:"firstName",value:e.firstName,onChange:t,required:!0,fullWidth:!0})}),a.jsx(o,{item:!0,xs:12,sm:6,children:a.jsx(n,{label:"Last Name",name:"lastName",value:e.lastName,onChange:t,required:!0,fullWidth:!0})})]}),a.jsx(n,{label:"Email Address",type:"email",name:"email",value:e.email,onChange:t,required:!0,fullWidth:!0}),a.jsx(n,{label:"Password",type:"password",name:"password",value:e.password,onChange:t,required:!0,fullWidth:!0}),a.jsx(n,{label:"Confirm Password",type:"password",name:"confirmPassword",value:e.confirmPassword,onChange:t,required:!0,fullWidth:!0}),a.jsx(u,{type:"submit",variant:"contained",size:"large",color:"primary",sx:{mb:2},disabled:l,children:l?"Signing up...":"Create Admin Account"})]}),a.jsx(u,{fullWidth:!0,variant:"outlined",onClick:h,children:"Already have an account? Log In!"})]})})};export{F as default};
