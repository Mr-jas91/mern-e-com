import{d as k,u as N,a as j,e as c,g as f,j as s,a4 as a,a5 as C,a6 as y}from"./index-Bg7Lztdd.js";const M=()=>{var h,x,m,b;const p=k(),i=N(),{user:t}=j(n=>n.auth),{cartItems:e}=j(n=>n.cart),[u,o]=c.useState(!1),[g,d]=c.useState(!1),v=()=>{o(n=>!n),d(!1)},r=()=>{d(n=>!n),o(!1)},l=()=>{o(!1)},w=async n=>{n.preventDefault(),i(C()),i(y()),p("/home")};return c.useEffect(()=>{t&&i(f())},[i,t]),s.jsxs("div",{className:"navbar bg-black",children:[s.jsx("div",{className:"flex-1",children:s.jsx(a,{to:"/home",className:"btn btn-ghost text-xl text-black bg-white",children:"Myshop918"})}),s.jsxs("div",{className:"flex-none",children:[s.jsxs("div",{className:"dropdown dropdown-end",children:[s.jsx("div",{tabIndex:0,role:"button",className:"btn btn-ghost btn-circle bg-white",onClick:r,children:s.jsxs("div",{className:"indicator",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),s.jsx("span",{className:"badge badge-sm indicator-item",children:(h=e==null?void 0:e.items)!=null&&h.length?(x=e==null?void 0:e.items)==null?void 0:x.length:0})]})}),g&&s.jsx("div",{tabIndex:0,className:"card card-compact dropdown-content bg-base-100 z-[1] mt-3 w-52 shadow",children:s.jsxs("div",{className:"card-body",children:[s.jsx("span",{className:"text-lg font-bold",children:(m=e==null?void 0:e.items)!=null&&m.length?`${(b=e==null?void 0:e.items)==null?void 0:b.length} Items`:"Empty cart"}),s.jsx("span",{className:"text-info",children:e!=null&&e.finalPrice?`Subtotal: â‚¹ ${e==null?void 0:e.finalPrice.toFixed(2)}`:""}),s.jsx("div",{className:"card-actions",children:s.jsx(a,{to:"/cart",className:"btn btn-primary btn-block",onClick:r,children:"View cart"})})]})})]}),s.jsxs("div",{className:"dropdown dropdown-end",children:[s.jsx("div",{tabIndex:0,role:"button",className:"btn btn-ghost btn-circle avatar",onClick:v,children:s.jsx("div",{className:"w-10 rounded-full",children:s.jsx("img",{alt:"User Avatar",src:"https://img.daisyui.com/images/stock/photo-1534528741775-53994a69daeb.webp"})})}),u&&s.jsxs("ul",{tabIndex:0,className:"menu menu-sm dropdown-content bg-base-100 rounded-box z-[1] mt-3 w-52 p-2 shadow",children:[s.jsx("li",{onClick:l,children:s.jsx(a,{to:"/home",children:"Home"})}),s.jsx("li",{onClick:l,children:s.jsx(a,{to:"/orders",children:"My Orders"})}),s.jsx("li",{onClick:l,children:s.jsx(a,{to:"/cart",children:"My Cart"})}),s.jsx("li",{onClick:l,children:s.jsx(a,{to:"/user/account",children:"Profile"})}),s.jsx("li",{onClick:l,children:s.jsx(a,{to:"/admin/dashboard",children:"Admin"})}),s.jsx("li",{onClick:l,children:t?s.jsx("button",{onClick:w,children:"Logout"}):s.jsx(a,{to:"/user/signin",children:"Sign in"})})]})]})]})]})};export{M as default};
