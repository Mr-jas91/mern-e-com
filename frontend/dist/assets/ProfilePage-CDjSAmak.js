import{u as j,a as g,e as n,j as t,P as b,T as v,B as P,G as o,f as E,a2 as N,z as m}from"./index-Bg7Lztdd.js";import{C as y}from"./Container-DVBPvZB6.js";import{T as u}from"./TextField-B6hv7PeN.js";import"./isHostComponent-CIBwoAig.js";import"./Modal-BbAonJu_.js";import"./List-DQDaG03M.js";const w=()=>{const c=j(),{user:d}=g(e=>e.auth),[a,i]=n.useState(!1),[s,l]=n.useState({});n.useEffect(()=>{l(d)},[]);const p=e=>{const{name:r,value:x}=e.target;l(f=>({...f,[r]:x}))},h=async e=>{e.preventDefault();try{await c(N(s)).unwrap(),i(!1),m("success","Profile updated successfully")}catch(r){console.error("Failed to update profile:",r),m("error","Failed to update profile")}};return t.jsx(y,{component:"main",maxWidth:"sm",children:t.jsxs(b,{elevation:3,sx:{mt:8,p:4},children:[t.jsx(v,{component:"h1",variant:"h5",align:"center",gutterBottom:!0,children:"User Profile"}),t.jsxs(P,{component:"form",onSubmit:h,sx:{mt:3},children:[t.jsxs(o,{container:!0,spacing:2,children:[["firstName","lastName","phone","address"].map(e=>t.jsx(o,{item:!0,xs:12,sm:e==="address"?12:6,children:t.jsx(u,{fullWidth:!0,id:e,label:e==="firstName"?"First Name":e==="lastName"?"Last Name":e==="phone"?"Phone Number":"Address",name:e,value:s[e]||"",onChange:p,disabled:!a})},e)),t.jsx(o,{item:!0,xs:12,children:t.jsx(u,{fullWidth:!0,id:"email",label:"Email Address",name:"email",value:(s==null?void 0:s.email)||"",disabled:!0})})]}),t.jsx(E,{type:a?"submit":"button",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},onClick:e=>{a||(e.preventDefault(),i(!0))},children:a?"Save Changes":"Edit Profile"})]})]})})};export{w as default};
