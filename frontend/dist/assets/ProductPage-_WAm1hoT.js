import{u as y,d as v,_ as k,e as n,a as T,$ as F,j as s,Z as S,T as t,G as d,O as w,D as A,B as c,W as D,f as u,a0 as I,a1 as P,S as B,A as E}from"./index-Bg7Lztdd.js";import{C as O}from"./Container-DVBPvZB6.js";const N=()=>{var m;const r=y(),j=v(),{id:o}=k(),[l,x]=n.useState(""),[i,h]=n.useState(!1),{singleProduct:e,loading:b,error:f}=T(a=>a.products);if(n.useEffect(()=>{r(F(o))},[o,r]),n.useEffect(()=>{var a;(a=e==null?void 0:e.images)!=null&&a.length&&x(e.images[0])},[e]),b)return s.jsx(S,{});if(f||!e)return s.jsx(t,{variant:"h5",color:"error",children:"Product not found"});const p=()=>{r(B(o)),h(!0),setTimeout(()=>h(!1),1500)},C=()=>{r(E([{productId:e,quantity:1}])),j("/checkout")};return s.jsx(O,{maxWidth:"lg",children:s.jsxs(d,{container:!0,spacing:4,sx:{my:4},children:[s.jsx(d,{item:!0,xs:12,md:6,children:s.jsxs(w,{sx:{boxShadow:3,borderRadius:2,p:2},children:[s.jsx("img",{src:l,alt:e==null?void 0:e.name,style:{width:"100%",maxHeight:"450px",objectFit:"contain",borderRadius:"8px"}}),s.jsx(A,{sx:{mt:2}}),s.jsx(c,{sx:{display:"flex",justifyContent:"center",mt:2},children:(m=e==null?void 0:e.images)==null?void 0:m.map((a,g)=>s.jsx("img",{src:a,alt:`Thumbnail ${g+1}`,onClick:()=>x(a),style:{width:"60px",height:"60px",objectFit:"cover",margin:"5px",cursor:"pointer",borderRadius:"4px",border:l===a?"2px solid black":"none"}},g))})]})}),s.jsxs(d,{item:!0,xs:12,md:6,children:[s.jsx(t,{variant:"h4",fontWeight:"bold",children:e==null?void 0:e.name}),s.jsxs(t,{variant:"subtitle1",color:"text.secondary",children:["Category: ",e==null?void 0:e.category.name]}),s.jsx(t,{variant:"body1",paragraph:!0,children:e==null?void 0:e.description}),s.jsxs(c,{sx:{display:"flex",alignItems:"center",mb:2},children:[s.jsxs(t,{variant:"h5",color:"text.secondary",sx:{textDecoration:"line-through",mr:2},children:["₹",e==null?void 0:e.price.toFixed(2)]}),s.jsxs(t,{variant:"h5",color:"error",children:["₹",(e.price-e.discount).toFixed(2)]}),s.jsx(D,{label:`${e==null?void 0:e.discount.toFixed(2)}% OFF`,color:"error",size:"small",sx:{ml:2}})]}),s.jsxs(c,{sx:{display:"flex",gap:2,mb:3},children:[s.jsx(u,{variant:"contained",startIcon:i?s.jsx(I,{}):s.jsx(P,{}),sx:{backgroundColor:i?"#4caf50":"black",color:"white",fontWeight:"bold","&:hover":{backgroundColor:i?"#66bb6a":"#424242"},transition:"background 0.3s ease-in-out"},onClick:p,children:i?"Added!":"Add to Cart"}),s.jsx(u,{variant:"contained",color:"secondary",onClick:C,children:"Order Now"})]})]})]})})};export{N as default};
